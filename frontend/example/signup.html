<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
</head>
<body>

<h2>Signup Form</h2>

<form id="signupForm">
    <!-- <label for="username">Username:</label>
    <input type="text" id="username" name="username" required> -->

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>

    <label for="password2">Confirm Password:</label>
    <input type="password" id="password2" name="password2" required>

    <button type="button" onclick="signup()">Signup</button>
</form>

<script>
function signup() {
    const form = document.getElementById('signupForm');
    const formData = new FormData(form);

    fetch('http://127.0.0.1:8000/accounts/api/signup/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            // Add any additional headers as needed
        },
        body: JSON.stringify(Object.fromEntries(formData)),
    })
    .then(response => {
        console.log(response);
        //if (!response.ok) {
        //    console.log(response.json());
        //    throw new Error('Signup failed');
        //}
        return response.json();
    })
    .then(data => {
        console.log('Response:', data);
        // Handle success, redirect, or any other action
    })
    .catch(error => {
        console.error('Error during signup:', error);
        // Handle error, display message, etc.
    });
}
</script>

</body>
</html>
